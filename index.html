<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nova Submissão | ZUFMS</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style type="text/tailwindcss">
    @layer utilities {
      .flex-center {
        @apply flex items-center justify-center;
      }
    }

      html {
        scroll-behavior: smooth;
      }

      html,
      body {
        @apply h-full w-full;
      }

      input {
        @apply focus-visible:outline-none;
      }

      .material-icons-outlined {
        @apply flex-center;
      }
      
    </style>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            "default-bg": "#024168",
            "text-fade": "#99BBD0",
            "text-placeholder": "#336B8E",
            "default-border": "#2E688C",
            "default-accent": "#52BD8F",
            "accent-shade": "#369169",
            "button-fade": "#407494",
            "icon-fade": "#87B1CB",
            "even-row": "#104F76",
            "odd-row": "#0C496F",
          },
          keyframes: {
            wiggle: {
              '0%, 100%': { transform: 'rotate(-1.5deg)' },
              '50%': { transform: 'rotate(1.5deg)' },
            }
          },
          animation: {
            wiggle: 'wiggle .3s ease-in-out infinite',
          }
        },
      },
    };
  </script>
</head>

<body class="w-[300rem] relative" ondragover="onDragOver(event)" ondragleave="onDragLeave(event)" ondrop="onDrop(event)">
  <div class="bg-default-bg w-full min-w-fit h-full flex flex-col w-full whitespace-nowrap overflow-x-scroll">
    <div class="h-40">
      <header class="fixed w-full min-w-fit flex px-20 py-10 border-b-2 border-default-border">
        <div class="flex-1">
          <h3 class="text-white text-3xl font-semibold">Nova Submissão</h3>
          <p class="text-text-fade text-lg">
            Submeta uma nova amostra à coleção
          </p>
        </div>
        <div class="">
          <button class="bg-default-accent transition-all hover:drop-shadow-xl hover:bg-accent-shade drop-shadow-md p-4 rounded-full flex items-center justify-center">
            <span class="material-icons-outlined text-white">
              file_upload
            </span>
          </button>
        </div>
      </header>

    </div>

    <section class="min-w-fit py-7 px-20 border-b-2 border-default-border relative flex">
      <div class="flex items-start z-[1]">
        <div class="flex flex-col items-center fixed">
          <div id="current-icon" class="rounded-full p-4 mb-3 w-fit bg-default-accent">
            <span class="material-icons-outlined text-white">
              assignment
            </span>
          </div>
          <div class="max-w-[11rem] whitespace-normal">
            <h5 id="current-title" class="text-white font-semibold mb-1">
              Nível de Registro
            </h5>
            <p id="current-subtitle" class="text-text-fade text-sm">
              Termos genéricos aplicáveis a qualquer tipo de registro
            </p>
          </div>
          <div class="bg-default-border rounded-full p-[.25rem] fixed top-[23.9rem]">
            <div class="bg-default-accent rounded-full p-[.35rem]"></div>
          </div>
          <button onclick="window.scroll(window.scrollX-1041, window.scrollY)"
            class="absolute left-0 top-0 text-text-fade transition-all hover:text-white text-md p-4">
            <span class="material-icons-outlined">chevron_left</span>
          </button>
          <button onclick="window.scroll(window.scrollX+1041, window.scrollY)"
            class="absolute right-0 top-0 text-text-fade transition-all hover:text-white text-md p-4">
            <span class="material-icons-outlined">chevron_right</span>
          </button>
        </div>
      </div>

      <div class="w-[65rem] flex items-start">
        <div class="flex flex-col items-center">
          <div class="opacity-40 rounded-full p-4 mb-3 w-fit bg-button-fade">
            <span class="material-icons-outlined text-white">
              assignment
            </span>
          </div>
          <div class="opacity-40 max-w-[11rem] whitespace-normal">
            <h5 class="text-text-fade font-semibold mb-1">
              Nível de Registro
            </h5>
            <p class="text-text-fade text-sm">
              Termos genéricos aplicáveis a qualquer tipo de registro
            </p>
          </div>
          <div class="bg-default-border rounded-full p-[.6rem] absolute -bottom-[.6rem]"></div>
        </div>
      </div>

      <div class="w-[65rem] flex items-start">
        <div class="flex flex-col items-center">
          <div class="opacity-40 rounded-full p-4 mb-3 w-fit bg-button-fade">
            <span class="material-icons-outlined text-white">format_list_numbered</span>
          </div>
          <div class="opacity-40 max-w-[11rem] whitespace-normal">
            <h5 class="text-text-fade font-semibold mb-1">Ocorrência</h5>
            <p class="text-text-fade text-sm">
              Existência de um organismo em um determinado lugar e momento
            </p>
          </div>
          <div class="bg-default-border rounded-full p-[.6rem] absolute -bottom-[.6rem]"></div>
        </div>
      </div>

      <div class="flex items-start">
        <div id="cat3" class="flex flex-col items-center">
          <div class="opacity-40 rounded-full p-4 mb-3 w-fit bg-button-fade">
            <span class="material-icons-outlined text-white">event</span>
          </div>
          <div class="opacity-40 max-w-[11rem] whitespace-normal">
            <h5 class="text-text-fade font-semibold mb-1">Evento</h5>
            <p class="text-text-fade text-sm">
              Uma ação que ocorre em algum local durante algum tempo
            </p>
          </div>
          <div class="bg-default-border rounded-full p-[.6rem] absolute -bottom-[.6rem]"></div>
        </div>
      </div>
    </section>

    <section class="w-full min-w-fit flex-1 flex flex-col overflow-y-hidden">
      <header class="px-20 py-10 flex whitespace-normal">
        <div class="mr-3 w-[20rem]">
          <h4 class="text-white text-2xl font-semibold mb-1">
            Data da Última Modificação
          </h4>
          <p class="text-text-fade text-sm">
            Data que o resgistro foi criado ou alterado
          </p>
        </div>

        <div class="mr-3 w-[20rem]">
          <h4 class="text-white text-2xl font-semibold mb-1">
            Informação Retida
          </h4>
          <p class="text-text-fade text-sm">
            Informação que falta em uma das colunas e deve ser procurada
          </p>
        </div>

        <div class="mr-3 w-[20rem]">
          <h4 class="text-white text-2xl font-semibold mb-1">
            Base do Registro
          </h4>
          <p class="text-text-fade text-sm">
            A natureza específica do registro
          </p>
        </div>

        <div class="mr-3 w-[20rem] opacity-40">
          <h4 class="text-white text-2xl font-semibold mb-1">
            Número de Catálogo
          </h4>
          <p class="text-text-fade text-sm">Número de tombo do exemplar</p>
        </div>
      </header>
      <div id="rows" class="min-w-max overflow-y-auto flex-1">
        <div class="w-full h-12 px-20 odd:bg-odd-row even:bg-even-row">
          <input tabindex="1"
            class="w-[20rem] h-full bg-transparent border-2 border-default-border px-3 placeholder:text-text-placeholder focus-visible:border-default-accent text-white"
            placeholder="2022-03-24" value="2022-03-24" />
          <input tabindex="1"
            class="w-[20rem] h-full bg-transparent border-2 border-default-border px-3 placeholder:text-text-placeholder focus-visible:border-default-accent text-white"
            placeholder="verificar amostra de tecido" />
            <input 
              tabindex="1" 
              class="w-[20rem] h-full bg-transparent border-2 border-default-border px-3 placeholder:text-text-placeholder focus-visible:border-default-accent text-white" 
              type="text" list="basisOfRecord" value="PreservedSpecimen" />
            <datalist id="basisOfRecord">
              <option>PreservedSpecimen</option>
              <option>LivingSpecimen</option>
              <option>HumanObservation</option>
              <option>MachineObservation</option>
              <option>Sample</option>
            </datalist>
            <input tabindex="2"
              class="opacity-40 w-[20rem] h-full bg-transparent border-2 border-default-border px-3 placeholder:text-text-placeholder focus-visible:border-default-accent text-white"
              placeholder="ZUFMS-CRU00001" value="ZUFMS-CRU00001" />
        </div>

        <div onclick="insertNewRow()" class="w-full h-12 px-20 odd:bg-odd-row even:bg-even-row opacity-20">
          <input tabindex="1"
            class="w-[20rem] h-full bg-transparent border-2 border-default-border px-3 placeholder:text-text-placeholder focus-visible:border-default-accent text-white"
            placeholder="2022-03-24" value="2022-03-24" />
          <input tabindex="1"
            class="w-[20rem] h-full bg-transparent border-2 border-default-border px-3 placeholder:text-text-placeholder focus-visible:border-default-accent text-white"
            placeholder="verificar amostra de tecido" />
            <input 
              tabindex="1" 
              class="w-[20rem] h-full bg-transparent border-2 border-default-border px-3 placeholder:text-text-placeholder focus-visible:border-default-accent text-white" 
              type="text" list="basisOfRecord" value="PreservedSpecimen" />
            <datalist id="basisOfRecord">
              <option>PreservedSpecimen</option>
              <option>LivingSpecimen</option>
              <option>HumanObservation</option>
              <option>MachineObservation</option>
              <option>Sample</option>
            </datalist>
          <input tabindex="2"
            class="opacity-40 w-[20rem] h-full bg-transparent border-2 border-default-border px-3 placeholder:text-text-placeholder focus-visible:border-default-accent text-white"
            placeholder="ZUFMS-CRU00001" value="ZUFMS-CRU00001" />
        </div>
    </section>

    <div class="fixed right-20 bottom-10">
      <button class="bg-default-accent transition-all hover:drop-shadow-xl hover:bg-accent-shade drop-shadow-md p-4 rounded-full flex items-center justify-center">
        <span class="material-icons-outlined text-white">
          done
        </span>
      </button>
    </div>
  </div>

  <div id="drop-file"
    class="hidden z-[2] fixed top-0 left-0 w-full h-full bg-black/40 border-4 border-dashed border-default-accent flex items-center justify-center">
    <div class="p-4 bg-white rounded-lg animate-wiggle">
      <div
        class="flex flex-col justify-center bg-white border-2 border-dashed border-default-accent p-10 rounded-lg">
        <span class="material-icons-outlined text-gray-700 text-4xl mb-2">upload</span>
        <h3 class="text-2xl text-gray-800 font-semibold">Importar arquivo .csv</h3>
        <p class="text-text-fade">Solte o arquivo .csv importar</p>
      </div>
    </div>
  </div>

  <script>
    const dropfileElement = document.getElementById('drop-file')

    const onDragOver = (event) => {
      event.preventDefault()
      console.log('isFile', event.dataTransfer.types.indexOf('Files') !== -1);
      dropfileElement.classList.remove('hidden')
    }

    const onDragLeave = (event) => {
      event.preventDefault()
      dropfileElement.classList.add('hidden')
    }

    const onDrop = onDragLeave

    const rowsElement = document.getElementById('rows')
    const newRowTemplate = document.createElement('template')
    newRowTemplate.innerHTML = `
        <div class="w-full h-12 px-20 odd:bg-odd-row even:bg-even-row">
            <input
              tabindex="1"
              class="w-[20rem] h-full bg-transparent border-2 border-default-border px-3 placeholder:text-text-placeholder focus-visible:border-default-accent text-white"
              placeholder="2022-03-24"
              value="2022-03-24"
            />
            <input
              tabindex="1"
              class="w-[20rem] h-full bg-transparent border-2 border-default-border px-3 placeholder:text-text-placeholder focus-visible:border-default-accent text-white"
              placeholder="verificar amostra de tecido"
            />
            <input 
              tabindex="1" 
              class="w-[20rem] h-full bg-transparent border-2 border-default-border px-3 placeholder:text-text-placeholder focus-visible:border-default-accent text-white" 
              type="text" list="basisOfRecord" value="PreservedSpecimen" />
            <datalist id="basisOfRecord">
              <option>PreservedSpecimen</option>
              <option>LivingSpecimen</option>
              <option>HumanObservation</option>
              <option>MachineObservation</option>
              <option>Sample</option>
            </datalist>
            <input
              tabindex="2"
              class="opacity-40 w-[20rem] h-full bg-transparent border-2 border-default-border px-3 placeholder:text-text-placeholder focus-visible:border-default-accent text-white"
              placeholder="ZUFMS-CRU00001"
              value="ZUFMS-CRU00001"
            />
          </div>
      `

    const insertNewRow = () => {
      const newRowNode = newRowTemplate.content.cloneNode(true)
      rowsElement.insertBefore(newRowNode, rowsElement.children[rowsElement.children.length - 1])
      rowsElement.children[rowsElement.children.length - 2].children[0].focus()
    }

    const currentTitle = document.getElementById("current-title");
    const currentSubtitle = document.getElementById("current-subtitle");
    const currentIcon = document.getElementById("current-icon");

    const makeXIntervalTest = (min, max) => (x) => min <= x && x <= max;

    const areas = {
      registro: makeXIntervalTest(0, 1040),
      ocorrencia: makeXIntervalTest(1041, 2080),
      evento: makeXIntervalTest(2081, 4020),
    };

    const areasContent = {
      registro: {
        title: "Nível de Registro",
        subtitle: "Termos genéticos aplicáveis a qualquer tipo de registro",
        icon: '<span class="material-icons-outlined text-white">assignment</span>',
      },
      ocorrencia: {
        title: "Ocorrência",
        subtitle:
          "Existência de um organismo em um determinado lugar e momento",
        icon: '<span class="material-icons-outlined text-white">format_list_numbered</span>',
      },
      evento: {
        title: "Evento",
        subtitle: "Uma ação que ocorre em algum local durante algum tempo",
        icon: '<span class="material-icons-outlined text-white">event</span>',
      },
    };

    window.addEventListener("scroll", () => {
      const { title, subtitle, icon } =
        areasContent?.[
        Object.entries(areas).find(([area, test]) =>
          test(window.scrollX)
        )[0]
        ] ?? {};

      currentTitle.innerText = title;
      currentSubtitle.innerText = subtitle;
      currentIcon.innerHTML = icon;
    });
  </script>
</body>

</html>